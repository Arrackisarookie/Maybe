{% extends 'base.html' %}

{%- block metas %}
  {{ super() }}
  <meta name="description" content="">
  <meta name="author" content="">
{%- endblock metas %}

{%- block styles %}
  {{ super() }}
  <link href="{{ url_for('static', filename='css/blog.css') }}" rel="stylesheet">
{%- endblock styles %}

{% block body -%}
  {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand" href="/">{{ title }}</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('blog.about') }}">About</a>
            </li>
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Category</a>
              <ul class="dropdown-menu">
                {% for cate in Category.query.all() %}
                  <li><a href="{{ url_for('blog.category', category=cate.name) }}">{{ cate.name }}</a></li>
                {% endfor %}
              </ul>
            </li>
          {% if current_user.is_authenticated %}
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Account <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Change Password</a></li>
                <li><a href="{{ url_for('auth.logout') }}">Log Out</a></li>
              </ul>
            </li>
          {% endif %}
          </ul>
        </div>
      </div>
    </nav>
  {%- endblock navbar %}

  {% block header -%}
    <header class="masthead">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            {% block header_content -%}
            {%- endblock header_content %}
          </div>
        </div>
      </div>
    </header>
  {%- endblock header %}

  {% block content -%}
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          {% block main_content -%}
          {%- endblock main_content %}
        </div>
      </div>
    </div>
  {%- endblock content %}

  {% block footer %}
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-md-10 mx-auto">
            <ul class="list-inline text-center">
              <li class="list-inline-item">
                <a href="https://github.com/arrackisarookie">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                    <i class="fa fa-code fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            </ul>
            <p class="copyright text-muted">Copyright &copy; Arrack's Blog 2019</p>
          </div>
        </div>
      </div>
    </footer>
  {% endblock footer %}

  {% block scripts %}
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/blog.js') }}"></script>
    {{ moment.include_moment() }}
  {% endblock scripts %}
{%- endblock body %}
